{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?47fe","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?aec5","webpack:///./src/components/SearchAddress.vue?e229","webpack:///src/components/SearchAddress.vue","webpack:///./src/components/SearchAddress.vue?5ac2","webpack:///./src/components/SearchAddress.vue","webpack:///./src/components/Pharmacy.vue?8cd6","webpack:///src/components/Pharmacy.vue","webpack:///./src/components/Pharmacy.vue?1145","webpack:///./src/components/Pharmacy.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/router/index.js","webpack:///./src/api/mask.js","webpack:///./src/store/index.js","webpack:///./src/utils/color.js","webpack:///./src/utils/map.js","webpack:///./src/utils/index.js","webpack:///./src/vendor/axios.js","webpack:///./src/vendor/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650","webpack:///./src/components/Pharmacy.vue?693a","webpack:///./src/views/Home.vue?f42b"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","pharmacies","_e","staticClass","_v","staticRenderFns","components","computed","component","class","shades","pharmacyInfo","map","on","getLocation","refreshData","active","maskType","$event","setMaskType","ref","show","_m","options","normalizer","model","callback","$$v","expression","Treeselect","props","default","required","watch","filteredPharmacy","$utils","fitBounds","step","features","filter","methods","node","districts","id","label","children","properties","cunli","ancestor","county","zip","town","mounted","_s","pharmacy","maskClass","mask_adult","mask_child","staticStyle","address","geometry","coordinates","phone","domProps","availableTime","available","note","SearchAddress","Pharmacy","geolocation","state","latitude","longitude","viewSize","config","markersGroup","myLocationCircle","removeLayer","addMarkers","setPharmacyInfo","fetchPharmacies","setLocation","position","coords","setLocationCircle","setView","geoJsonLayerMarkerClusterGroup","markerEmit","feature","addCircle","Vue","use","VueRouter","routes","path","Home","router","base","process","Mask","url","axios","Vuex","Store","mutations","setPharmacies","actions","commit","all","response","getters","type","colorGray","colorSetA","colorSetB","colorMarker","rangeColorMarker","range","icon","createMap","divId","$L","control","zoom","addTo","createTileLayer","tileLayer","layer","CustomMarkerIcon","color","iconUrl","shadowUrl","iconSize","iconAnchor","popupAnchor","shadowSize","CustomMarkerDivIcon","divIcon","className","html","markerColor","Color","PopupContent","adult","child","staAdultClass","staChildClass","updated","geoJsonData","fn","markers","markerClusterGroup","disableClusteringAtZoom","geoJsonLayer","geoJson","onEachFeature","popupContent","bindPopup","pointToLayer","latlng","customIcon","marker","addLayer","points","geoJSON","getBounds","addMarker","point","option","circle","addGeoJson","geojsonFeature","interceptors","error","Number","code","Promise","reject","utils","productionTip","store","render","h","App","$mount"],"mappings":"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","file":"js/index.02fc1b6d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/maskMap/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.pharmacies)?_c('div',{staticClass:\"loading-wrap\"},[_vm._v(\" loading... \")]):_vm._e(),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <div class=\"loading-wrap\" v-if=\"!pharmacies\">\n      loading...\n    </div>\n    <router-view/>\n  </div>\n</template>\n<script>\n// import loadingAnimation from '@/components/loadingAnimation.vue';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'App',\n  components: {\n  },\n  computed: {\n    ...mapGetters(['pharmacies']),\n  },\n};\n</script>\n<style lang=\"scss\">\n@import \"~leaflet.markercluster/dist/MarkerCluster.css\";\n@import \"~leaflet.markercluster/dist/MarkerCluster.Default.css\";\n@import \"./src/assets/style.scss\";\n@import url('https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap');\n\nhtml,body, #app{\n  width: 100%;\n  height: 100vh;\n}\n#app {\n  font-family: 'Noto Sans TC', 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n}\n.loading-wrap {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 1004;\n  background: rgba(0, 0, 0, 0.75);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #fff;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4486be26&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',{class:['search-wrap', { shades: _vm.pharmacyInfo }]},[_c('div',{staticClass:\"search-loc\"},[_c('div',{staticClass:\"search-input pr-3\"},[_c('SearchAddress',{attrs:{\"map\":_vm.map}})],1),_c('div',{staticClass:\"located-wrap rounded-circle btn btn-sm btn-light\",on:{\"click\":_vm.getLocation}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"20\",\"viewBox\":\"0 0 32 32\"}},[_c('path',{attrs:{\"id\":\"Icon_material-my-location\",\"data-name\":\"Icon material-my-location\",\"d\":\"M18,12a6,6,0,1,0,6,6A6,6,0,0,0,18,12Zm13.41,\\n              4.5A13.491,13.491,0,0,0,19.5,4.59V1.5h-3V4.59A13.491,\\n              13.491,0,0,0,4.59,16.5H1.5v3H4.59A13.491,13.491,0,0,0,\\n              16.5,31.41V34.5h3V31.41A13.491,13.491,0,0,0,31.41,19.5H34.5v-3ZM18,\\n              28.5A10.5,10.5,0,1,1,28.5,18,10.492,10.492,0,0,1,18,28.5Z\",\"transform\":\"translate(-1.5 -1.5)\"}})])]),_c('div',{staticClass:\"sync-wrap rounded-circle btn btn-sm btn-light\",on:{\"click\":_vm.refreshData}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]),_c('div',{staticClass:\"filter-wrap p-1 d-flex flex-wrap\"},[_c('div',{class:['rounded-pill m-1 btn btn-sm btn-outline-info',\n        { active: _vm.maskType === 0}],on:{\"click\":function($event){return _vm.setMaskType(0)}}},[_vm._v(\" 全部 \")]),_c('div',{class:['rounded-pill m-1 btn btn-sm btn-outline-info',\n        { active: _vm.maskType === 4}],on:{\"click\":function($event){return _vm.setMaskType(4)}}},[_vm._v(\" 未售完 \")]),_c('div',{class:['rounded-pill m-1 btn btn-sm btn-outline-info',\n        { active: _vm.maskType === 1}],on:{\"click\":function($event){return _vm.setMaskType(1)}}},[_vm._v(\" 成人口罩 \")]),_c('div',{class:['rounded-pill m-1 btn btn-sm btn-outline-info',\n        { active: _vm.maskType === 2}],on:{\"click\":function($event){return _vm.setMaskType(2)}}},[_vm._v(\" 兒童口罩 \")])])]),_c('div',{staticClass:\"map-container\"},[_c('div',{ref:\"map\",attrs:{\"id\":\"map\"}})]),_c('div',{ref:\"pharmacyInfoWrap\",class:['pharmacy-info pt-2 pr-3 pl-3 pb-2', {show: _vm.pharmacyInfo}]},[_vm._m(0),_c('Pharmacy',{attrs:{\"pharmacy\":_vm.pharmacyInfo}}),_vm._m(1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-block\"},[_c('p',{staticClass:\"mainTitle m-0\"},[_vm._v(\"即時口罩地圖\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"notice-wrap pt-2\"},[_c('div',{staticClass:\"notice-list\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_c('span',{staticClass:\"d-inline pl-1\"},[_vm._v(\"部分藥局因採發放號碼牌方式，方便民眾購買口罩，系統目前無法顯示已發送號碼牌數量。\")])]),_c('div',{staticClass:\"notice-list\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_c('span',{staticClass:\"d-inline pl-1\"},[_vm._v(\"口罩數量以藥局實際存量為主，線上查詢之數量僅供參考。\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pharmacies)?_c('section',{staticClass:\"search-section\"},[_c('treeselect',{attrs:{\"multiple\":false,\"options\":_vm.options,\"valueFormat\":\"object\",\"placeholder\":\"以行政區或郵遞區號查詢\",\"normalizer\":_vm.normalizer},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"search-section\" v-if=\"pharmacies\">\n    <treeselect\n      v-model=\"value\"\n      :multiple=\"false\"\n      :options=\"options\"\n      valueFormat=\"object\"\n      placeholder=\"以行政區或郵遞區號查詢\"\n      :normalizer=\"normalizer\"/>\n  </section>\n</template>\n\n<script>\n// import Address from '@/api/address';\nimport { mapGetters } from 'vuex';\nimport Treeselect from '@riophae/vue-treeselect';\nimport '@riophae/vue-treeselect/dist/vue-treeselect.css';\nimport zipData from '@/map/twdistrictzip.json';\n\nexport default {\n/* eslint-disable no-underscore-dangle */\n  name: 'SearchAddress',\n  components: {\n    Treeselect,\n  },\n  props: {\n    map: {\n      default: null,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      value: null,\n      options: zipData,\n    };\n  },\n  watch: {\n    value() {\n      if (this.value && this.filteredPharmacy.length > 0) {\n        this.$utils.map.fitBounds(this.map, this.filteredPharmacy);\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(['pharmacies', 'pharmacyInfo']),\n    filteredPharmacy() {\n      if (!this.pharmacies || !this.value) return [];\n      // city\n      if (this.value.step === 'cunli') {\n        return this.pharmacies.features\n          .filter((d) => (d.properties.county === this.value.ancestor.county\n            && d.properties.town === this.value.ancestor.town\n            && d.properties.cunli === this.value.name));\n      }\n      // cunli\n      if (this.value.step === 'town') {\n        return this.pharmacies.features\n          .filter((d) => d.properties.county === this.value.ancestor.county\n            && d.properties.town === this.value.name);\n      }\n      // county\n      return this.pharmacies.features.filter((d) => d.properties.county === this.value.name);\n    },\n  },\n  methods: {\n    normalizer(node) {\n      // county\n      if (node.districts) {\n        const children = node.districts.map((d) => ({\n          step: 'town',\n          ancestor: {\n            county: node.name,\n          },\n          ...d,\n        }));\n        return {\n          id: node.name,\n          label: node.name,\n          children,\n        };\n      }\n      // town\n      if (node.step === 'town') {\n        const children = [];\n        const { features } = this.pharmacies;\n        // eslint-disable-next-line no-plusplus\n        for (let i = 0; i < features.length; i++) {\n          if (features[i].properties.county === node.ancestor.county\n              && features[i].properties.town === node.name) {\n            const dupicate = children.filter((d) => d.name === features[i].properties.cunli);\n            if (dupicate.length === 0) {\n              children.push(\n                {\n                  step: 'cunli',\n                  id: `${node.zip} ${node.name} ${features[i].properties.cunli}`,\n                  label: features[i].properties.cunli,\n                  name: features[i].properties.cunli,\n                  ancestor: {\n                    county: features[i].properties.county,\n                    zip: node.zip,\n                    town: features[i].properties.town,\n                  },\n                },\n              );\n            }\n          }\n        }\n        return {\n          step: 'town',\n          id: `${node.zip}${node.name}`,\n          label: `${node.zip} ${node.name}`,\n          children,\n        };\n      }\n      return {};\n    },\n  },\n  mounted() {\n    // console.log(this.map);\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchAddress.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchAddress.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchAddress.vue?vue&type=template&id=74e0afe4&scoped=true&\"\nimport script from \"./SearchAddress.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchAddress.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74e0afe4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pharmacy)?_c('div',{staticClass:\"pharmacy-card text-left mt-2\"},[_c('div',{staticClass:\"info\"},[_c('h5',{staticClass:\"font-weight-bold\"},[_c('i',{staticClass:\"fas fa-clinic-medical pr-1\"}),_c('span',[_vm._v(\" \"+_vm._s(_vm.pharmacy.properties.name)+\" \")]),_c('span',{staticClass:\"pl-1\"},[_c('span',{class:[_vm.maskClass(_vm.pharmacy.properties.mask_adult)]}),_c('span',{class:[_vm.maskClass(_vm.pharmacy.properties.mask_child)]})])]),_c('p',{staticClass:\"d-flex align-items-center mb-0\"},[_c('a',{staticClass:\"mr-3\",staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":'https://www.google.com.tw/maps/place/:'+ _vm.pharmacy.properties.address,\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-map-marker-alt pr-1\"}),_vm._v(\" \"+_vm._s(_vm.pharmacy.properties.address)+\" \")]),_c('a',{staticClass:\"font-weight-light rounded-pill btn btn-sm btn-outline-info tomap\",attrs:{\"href\":(\"https://www.google.com/maps/dir/?api=1&destination=\" + (_vm.pharmacy.geometry.coordinates[1]) + \",\" + (_vm.pharmacy.geometry.coordinates[0]) + \"&travelmode=driving\"),\"target\":\"_blank\"}},[_c('i',{staticClass:\"fas fa-location-arrow pr-1\"}),_vm._v(\" 路線 \")])]),_c('p',{staticClass:\"mb-0\"},[_c('a',{staticStyle:{\"text-decoration\":\"none\"},attrs:{\"href\":'tel:'+ _vm.pharmacy.properties.phone}},[_c('i',{staticClass:\"fas fa-phone-alt pr-1\"}),_vm._v(\" \"+_vm._s(_vm.pharmacy.properties.phone)+\" \")])]),_c('div',{staticClass:\"availableDayTime \",domProps:{\"innerHTML\":_vm._s(_vm.availableTime(_vm.pharmacy.properties.available))}})]),(_vm.pharmacy.properties.note && _vm.pharmacy.properties.note !== '-')?_c('div',{staticClass:\"note-block pt-2 pb-2 pl-3 pr-3\"},[_c('div',[_vm._v(\" 備註：\")]),_c('div',[_vm._v(_vm._s(_vm.pharmacy.properties.note))]),_vm._m(0)]):_c('div',[_vm._m(1)]),(false)?_c('div',{staticClass:\"d-flex w-100 maskInfo\"},[_c('span',{class:[_vm.maskClass(_vm.pharmacy.properties.mask_adult)]},[_vm._v(\" 成人口罩： \"+_vm._s(_vm.pharmacy.properties.mask_adult)+\" \")]),_c('span',{class:[_vm.maskClass(_vm.pharmacy.properties.mask_child)]},[_vm._v(\" 兒童口罩： \"+_vm._s(_vm.pharmacy.properties.mask_child)+\" \")])]):_vm._e()]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-1 text-right\"},[_c('a',{staticClass:\"font-weight-light rounded-pill btn btn-sm btn-outline-secondary\",attrs:{\"href\":\"https://forms.gle/7jFfScLedN3A8ENA8\",\"target\":\"_blank\"}},[_vm._v(\" 回報備註 \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-left\"},[_c('a',{staticClass:\"font-weight-light rounded-pill btn btn-sm btn-outline-secondary\",attrs:{\"href\":\"https://forms.gle/7jFfScLedN3A8ENA8\",\"target\":\"_blank\"}},[_vm._v(\" 回報備註 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pharmacy-card text-left mt-2\" v-if=\"pharmacy\">\n    <div class=\"info\">\n      <h5 class=\"font-weight-bold\">\n        <i class=\"fas fa-clinic-medical pr-1\"></i>\n        <span>\n          {{pharmacy.properties.name}}\n        </span>\n        <span class=\"pl-1\">\n          <span :class=\"[maskClass(pharmacy.properties.mask_adult)]\"></span>\n          <span :class=\"[maskClass(pharmacy.properties.mask_child)]\"></span>\n        </span>\n      </h5>\n      <p class=\"d-flex align-items-center mb-0\">\n        <a :href=\"'https://www.google.com.tw/maps/place/:'+ pharmacy.properties.address\"\n          target=\"_blank\"\n          class=\"mr-3\"\n          style=\"text-decoration: none;\">\n          <i class=\"fas fa-map-marker-alt pr-1\"></i>\n          {{pharmacy.properties.address}}\n        </a>\n        <a\n          :href=\"`https://www.google.com/maps/dir/?api=1&destination=${pharmacy.geometry.coordinates[1]},${pharmacy.geometry.coordinates[0]}&travelmode=driving`\"\n          class=\"font-weight-light rounded-pill btn btn-sm btn-outline-info tomap\"\n          target=\"_blank\">\n          <i class=\"fas fa-location-arrow pr-1\"></i>\n          路線\n        </a>\n      </p>\n      <p class=\"mb-0\">\n        <a :href=\"'tel:'+ pharmacy.properties.phone\"\n          style=\"text-decoration: none;\">\n          <i class=\"fas fa-phone-alt pr-1\"></i>\n          {{pharmacy.properties.phone}}\n        </a>\n      </p>\n      <div class=\"availableDayTime \"\n        v-html=\"availableTime(pharmacy.properties.available)\">\n      </div>\n      <!-- <a\n        :href=\"'https://www.google.com.tw/maps/place/' + pharmacy.properties.address + pharmacy.properties.name\"\n        class=\"card-link\"\n        target=\"_blank\">google map</a> -->\n      <!-- <small class=\"mb-2 text-muted\">\n        更新時間：{{pharmacy.properties.updated ? pharmacy.properties.updated : '無資料'}}\n      </small> -->\n    </div>\n      <!-- custom_note -->\n    <div class=\"note-block pt-2 pb-2 pl-3 pr-3\"\n      v-if=\"pharmacy.properties.note && pharmacy.properties.note !== '-'\">\n      <div> 備註：</div>\n      <div>{{pharmacy.properties.note}}</div>\n      <div class=\"pt-1 text-right\">\n        <a\n          href=\"https://forms.gle/7jFfScLedN3A8ENA8\"\n          class=\"font-weight-light rounded-pill btn btn-sm btn-outline-secondary\"\n          target=\"_blank\">\n          回報備註\n        </a>\n      </div>\n    </div>\n    <div v-else>\n      <div class=\"text-left\">\n        <a\n          href=\"https://forms.gle/7jFfScLedN3A8ENA8\"\n          class=\"font-weight-light rounded-pill btn btn-sm btn-outline-secondary\"\n          target=\"_blank\">\n          回報備註\n        </a>\n      </div>\n    </div>\n    <div class=\"d-flex w-100 maskInfo\" v-if=\"false\">\n      <span :class=\"[maskClass(pharmacy.properties.mask_adult)]\">\n        成人口罩：\n        {{pharmacy.properties.mask_adult}}\n      </span>\n      <span :class=\"[maskClass(pharmacy.properties.mask_child)]\">\n        兒童口罩：\n        {{pharmacy.properties.mask_child}}\n      </span>\n    </div>\n  </div>\n</template>\n\n<script>\n// import Address from '@/api/address';\n\nexport default {\n  name: 'Pharmacy',\n  components: {\n  },\n  props: {\n    pharmacy: null,\n  },\n  data() {\n    return {\n    };\n  },\n  computed: {\n  },\n  methods: {\n    maskClass(range) {\n      const color = this.$utils.color.rangeColorMarker(range);\n      // return `maskAmount rounded-pill sta-${color}`;\n      return `maskAmount-dot sta-${color}`;\n    },\n    availableTime(data) {\n      const arr = ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六'];\n      const today = arr[new Date().getDay()];\n      const times = data.split('、')\n        .filter((d) => d.match(today))\n        .map((d) => `<span>${d.substring(3)}</span>`)\n        .join(' ');\n      return `<span class=\"today-weekday\">${today}：</span> <span class=\"today-availableTime\">${times}</span>`;\n    },\n  },\n  mounted() {\n    // console.log(this.pharmacy);\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import './src/assets/style.scss';\n  .pharmacy-card {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    // align-items: end;\n    @include pc-width {\n      flex-direction: column;\n    }\n    @include pc-phone-width {\n      flex-direction: row;\n    }\n    .info {\n      min-width: 65%;\n      margin-right: .5rem;\n      font-size: .9rem;\n      margin-bottom: .5rem;\n      a {\n        color: #41b4c7;\n      }\n      a.btn {\n        // padding: .25rem .5rem;\n        white-space: nowrap;\n        padding: .1rem .25rem\n      }\n      a.btn:hover {\n        color: #fff;\n      }\n      @include pc-phone-width {\n        margin-bottom: 0rem;\n      }\n    }\n  }\n  .maskInfo {\n    flex-direction: column;\n    justify-content: space-evenly;\n  }\n  .maskAmount {\n    width: 150px;\n    padding: .5rem 1rem;\n    margin: .25rem auto;\n    text-align: left;\n    white-space: nowrap;\n    &-dot {\n      width: 12px;\n      height: 12px;\n      margin: 0 0.1rem;\n      display: inline-block;\n      border-radius: 50%;\n      transform: translateY(-2px);\n    }\n  }\n  .availableDayTime {\n    // background: #efefef;\n    border-radius: 5px;\n    color: #a7a7a7;\n    font-weight: lighter;\n    padding: .5rem 0;\n    font-size: .8rem;\n  }\n  .note-block{\n    background: #efefef;\n    border-radius: 5px;\n    width: 100%;\n    height: 100%;\n    font-size: .9rem;\n    color: #767f80;\n    position: relative;\n    &:before, &:after {\n      content: '';\n      position: absolute;\n      width: 1px;\n      height: 26px;\n      background: #d2ac73;\n      transform: rotate(45deg);\n    }\n    &:before {\n      top: -6px;\n      left: 6px;\n    }\n    &:after {\n      bottom: -6px;\n      right: 6px;\n    }\n    .btn {\n      font-size: 0.9rem;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pharmacy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pharmacy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pharmacy.vue?vue&type=template&id=7109f6d0&scoped=true&\"\nimport script from \"./Pharmacy.vue?vue&type=script&lang=js&\"\nexport * from \"./Pharmacy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pharmacy.vue?vue&type=style&index=0&id=7109f6d0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7109f6d0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"home\">\n    <!-- map -->\n    <div :class=\"['search-wrap', { shades: pharmacyInfo }]\">\n      <!-- <div class=\"top-block\">\n        <p class=\"mainTitle m-0\">即時口罩地圖</p>\n      </div> -->\n      <!-- search input -->\n      <div class=\"search-loc\">\n        <div class=\"search-input pr-3\">\n          <SearchAddress :map=\"map\"/>\n        </div>\n        <!-- filter btns -->\n        <div class=\"located-wrap rounded-circle btn btn-sm btn-light\"\n          @click=\"getLocation\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" viewBox=\"0 0 32 32\">\n            <path id=\"Icon_material-my-location\"\n              data-name=\"Icon material-my-location\"\n              d=\"M18,12a6,6,0,1,0,6,6A6,6,0,0,0,18,12Zm13.41,\n                4.5A13.491,13.491,0,0,0,19.5,4.59V1.5h-3V4.59A13.491,\n                13.491,0,0,0,4.59,16.5H1.5v3H4.59A13.491,13.491,0,0,0,\n                16.5,31.41V34.5h3V31.41A13.491,13.491,0,0,0,31.41,19.5H34.5v-3ZM18,\n                28.5A10.5,10.5,0,1,1,28.5,18,10.492,10.492,0,0,1,18,28.5Z\"\n              transform=\"translate(-1.5 -1.5)\"/>\n          </svg>\n        </div>\n        <div class=\"sync-wrap rounded-circle btn btn-sm btn-light\"\n          @click=\"refreshData\">\n          <i class=\"fas fa-sync-alt\"></i>\n        </div>\n      </div>\n      <div class=\"filter-wrap p-1 d-flex flex-wrap\">\n        <div :class=\"['rounded-pill m-1 btn btn-sm btn-outline-info',\n          { active: maskType === 0}]\"\n          @click=\"setMaskType(0)\">\n          全部\n        </div>\n        <div :class=\"['rounded-pill m-1 btn btn-sm btn-outline-info',\n          { active: maskType === 4}]\"\n          @click=\"setMaskType(4)\">\n          未售完\n        </div>\n        <div :class=\"['rounded-pill m-1 btn btn-sm btn-outline-info',\n          { active: maskType === 1}]\"\n          @click=\"setMaskType(1)\">\n          成人口罩\n        </div>\n        <div :class=\"['rounded-pill m-1 btn btn-sm btn-outline-info',\n          { active: maskType === 2}]\"\n          @click=\"setMaskType(2)\">\n          兒童口罩\n        </div>\n      </div>\n    </div>\n    <div class=\"map-container\">\n      <div id=\"map\" ref=\"map\"></div>\n    </div>\n    <!-- menu -->\n    <div ref=\"pharmacyInfoWrap\"\n      :class=\"['pharmacy-info pt-2 pr-3 pl-3 pb-2', {show: pharmacyInfo}]\" >\n      <div class=\"top-block\">\n        <p class=\"mainTitle m-0\">即時口罩地圖</p>\n      </div>\n      <Pharmacy :pharmacy=\"pharmacyInfo\"/>\n      <div class=\"notice-wrap pt-2\">\n        <div class=\"notice-list\">\n          <i class=\"fas fa-exclamation-circle\"></i>\n          <span class=\"d-inline pl-1\">部分藥局因採發放號碼牌方式，方便民眾購買口罩，系統目前無法顯示已發送號碼牌數量。</span>\n        </div>\n        <div class=\"notice-list\">\n          <i class=\"fas fa-exclamation-circle\"></i>\n          <span class=\"d-inline pl-1\">口罩數量以藥局實際存量為主，線上查詢之數量僅供參考。</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { mapGetters, mapActions } from 'vuex';\nimport config from '@/map/mapConfig.json';\nimport SearchAddress from '@/components/SearchAddress.vue';\nimport Pharmacy from '@/components/Pharmacy.vue';\n// import $L from 'leaflet';\n\nexport default {\n  name: 'Home',\n  components: {\n    SearchAddress,\n    Pharmacy,\n  },\n  data() {\n    return {\n      map: null,\n      geolocation: {\n        state: false,\n        latitude: config.center[0],\n        longitude: config.center[1],\n        viewSize: config.viewSize,\n      },\n      config,\n      markersGroup: null,\n      myLocationCircle: null,\n      // maskType: 0,\n    };\n  },\n  watch: {\n    pharmacies() {\n      if (this.markersGroup) {\n        this.$utils.map.removeLayer(this.map, this.markersGroup);\n      }\n      this.addMarkers();\n    },\n  },\n  computed: {\n    ...mapGetters(['pharmacies', 'pharmacyInfo', 'maskType']),\n  },\n  methods: {\n    ...mapActions(['fetchPharmacies', 'setPharmacyInfo', 'setMaskType']),\n    async getLocation() {\n      if (navigator.geolocation) {\n        await navigator.geolocation.getCurrentPosition(this.setLocation);\n        this.geolocation.state = true;\n      } else {\n        this.geolocation.state = false;\n      }\n    },\n    refreshData() {\n      this.$utils.map.removeLayer(this.map, this.markersGroup);\n      this.setPharmacyInfo(null);\n      this.fetchPharmacies();\n    },\n    setLocation(position) {\n      this.geolocation.latitude = position.coords.latitude;\n      this.geolocation.longitude = position.coords.longitude;\n      this.geolocation.viewSize = 16;\n      // console.log(position.coords.heading);\n      if (this.map) {\n        this.setLocationCircle();\n        this.map.setView(\n          [this.geolocation.latitude, this.geolocation.longitude],\n          this.geolocation.viewSize,\n        );\n      }\n    },\n    addMarkers() {\n      this.markersGroup = this.$utils.map.geoJsonLayerMarkerClusterGroup(\n        this.map,\n        this.pharmacies,\n        this.markerEmit,\n        this.maskType,\n      );\n    },\n    markerEmit(feature) {\n      // save to vuex\n      // console.log(feature);\n      if (!feature) {\n        this.setPharmacyInfo(null);\n      } else {\n        this.setPharmacyInfo(feature);\n        const coordinates = JSON.parse(JSON.stringify(\n          feature.geometry.coordinates,\n        )).reverse();\n        // console.log(coordinates);\n        const zoom = this.map.getZoom();\n        this.map.setView(\n          coordinates,\n          zoom,\n        );\n      }\n    },\n    setLocationCircle() {\n      if (this.myLocationCircle) {\n        // clear\n        this.$utils.map.removeLayer(\n          this.map,\n          this.myLocationCircle,\n        );\n        this.myLocationCircle = null;\n      }\n      if (this.map) {\n        this.myLocationCircle = this.$utils.map.addCircle(this.map,\n          [this.geolocation.latitude, this.geolocation.longitude],\n          {\n            color: '#2196F3',\n            fillColor: '#2196F3',\n            fillOpacity: 0.9,\n            strokeOpacity: 0,\n            radius: 15,\n          });\n      }\n    },\n  },\n  async created() {\n    this.getLocation();\n    await this.fetchPharmacies();\n  },\n  async mounted() {\n    // create\n    this.map = this.$utils.map.createMap('map', { maxZoom: 18, zoomControl: false });\n    this.$utils.map.createTileLayer(this.map, this.config.mapURL, {\n      attribution: this.config.attribution,\n    });\n    // setView\n    this.map.setView(\n      [this.geolocation.latitude, this.geolocation.longitude],\n      this.geolocation.viewSize,\n    );\n    // console.log(this.pharmacies);\n    // this.addMarkers();\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n@import './src/assets/style.scss';\n.home {\n  width: 100%;\n  height: 100%;\n  // overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n.map-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  // overflow: hidden;\n  #map {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n.search-wrap {\n  width: 100%;\n  z-index: 1002;\n  position: relative;\n  @include pc-width {\n    width: calc(408px - 1rem);\n    // box-shadow: 0px 0 10px rgba(0, 0, 0, 0.3);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    // &.shades {\n      // border-radius: 0px;\n      // box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.19);\n    // }\n  }\n  .search-loc {\n    color: #313854;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #fff;\n    box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);\n    box-sizing: border-box;\n    padding: .5rem;\n    @include pc-width {\n      margin: .5rem;\n      border-radius: 5px;\n    }\n  }\n}\n.located-wrap {\n  fill: #313854;\n  padding: .5rem;\n  margin-right: .25rem;\n  cursor: pointer;\n  svg {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n.sync-wrap {\n  padding: .5rem;\n  margin-right: .25rem;\n  cursor: pointer;\n  i {\n    width: 20px;\n    height: 20px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n.filter-wrap {\n  position: absolute;\n  .btn {\n    white-space: nowrap;\n    background: #fff;\n    &:hover {\n      background: #17a2b8;\n    }\n  }\n}\n.pharmacy-info {\n  position: fixed;\n  background: #fff;\n  z-index: 1001;\n  transition: left .6s, opacity .2s, bottom .5s, height .5s, display .5s;\n  display: none;\n  opacity: 0;\n  min-height: 170px;\n  min-width: 320px;\n  width: 100%;\n  box-shadow:  0px -2px 12px 0px rgba(0, 0, 0, 0.25);\n  border-radius: 20px 20px 0px 0px;\n  &.show {\n    bottom: 0;\n    opacity: 1;\n    display: block;\n  }\n  @include pc-width {\n    top: 0;\n    width: 408px;\n    left: -408px;\n    height: 100%;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);\n    border-radius: 0px;\n    &.show {\n      left: 0;\n      opacity: 1;\n      display: block;\n    }\n  }\n  .top-block{\n    background: #c6ebf1;\n    padding: 0.5rem 1rem 0.75rem;\n    margin: -1rem -1rem 1.25rem -1rem;\n    display: none;\n    @include pc-width {\n      margin-bottom: 90px;\n      display: block;\n      opacity: 0;\n    }\n    .mainTitle {\n      letter-spacing: 2px;\n      color: #313854;\n      font-weight: 600;\n      text-align: left;\n      font-size: 1.1rem;\n    }\n  }\n}\n.notice-wrap {\n  font-size: 0.75rem;\n  color: #7c8b8d;\n  text-align: left;\n  position: absolute;\n  bottom: 1rem;\n  width: calc(100% - 2rem);\n  display: none;\n  @include pc-width {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=c818ef6c&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=c818ef6c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c818ef6c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport VueRouter from 'vue-router';\nimport Home from '../views/Home.vue';\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  // {\n  //   path: '/about',\n  //   name: 'About',\n  //   // route level code-splitting\n  //   // this generates a separate chunk (about.[hash].js) for this route\n  //   // which is lazy-loaded when the route is visited.\n  //   component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\n  // },\n];\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes,\n});\n\nexport default router;\n","import axios from 'axios';\n\nclass Mask {\n  static all() {\n    const url = 'https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json';\n    // https://kiang.github.io/pharmacies/json/points.json\n    // https://raw.githubusercontent.com/kiang/pharmacies/master/json/points.json\n    return axios.get(url);\n  }\n}\n\nexport default Mask;\n","import Vue from 'vue';\nimport Vuex from 'vuex';\nimport Mask from '@/api/mask';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    pharmacies: null,\n    pharmacyInfo: null,\n    maskType: 0,\n  },\n  mutations: {\n    setPharmacies(state, data) {\n      state.pharmacies = data;\n    },\n    setPharmacyInfo(state, data) {\n      state.pharmacyInfo = data;\n    },\n    setMaskType(state, data) {\n      state.maskType = data;\n    },\n  },\n  actions: {\n    async fetchPharmacies({ commit }) {\n      const response = await Mask.all();\n      commit('setPharmacies', response.data);\n    },\n    setPharmacyInfo({ commit }, data) {\n      commit('setPharmacyInfo', data);\n    },\n    setMaskType({ commit }, data) {\n      commit('setMaskType', data);\n    },\n  },\n  getters: {\n    pharmacies: (state) => {\n      if (state.pharmacies && state.maskType !== 0) {\n        // state.pharmacies\n        const features = state.pharmacies.features.filter((d) => {\n          // const key = state.maskType === 1 ? 'mask_adult' : 'mask_child';\n          if (state.maskType !== 4) {\n            let key = 'mask_adult';\n            if (state.maskType === 2) key = 'mask_child';\n            return d.properties[key] > 0;\n          }\n          return (d.properties.mask_adult + d.properties.mask_child) > 0;\n        });\n        return {\n          type: state.pharmacies.type,\n          features,\n        };\n      }\n      return state.pharmacies;\n    },\n    pharmacyInfo: (state) => state.pharmacyInfo,\n    maskType: (state) => state.maskType,\n  },\n  modules: {\n  },\n});\n","/* eslint-disable prefer-destructuring */\nconst colorGray = '#a7a7a7';\nconst colorSetA = ['#EEC979', '#D95E37'];\nconst colorSetB = ['#aae3ed', '#66BDCC', '#313854'];\nconst colorMarker = ['grey', 'green', 'yellow', 'red'];\nconst rangeColorMarker = (range) => {\n  // mask_adult  mask_child\n  let icon = colorMarker[0];\n  if (range > 100) {\n    icon = colorMarker[1];\n  } else if (range > 50) {\n    icon = colorMarker[2];\n  } else if (range > 0) {\n    icon = colorMarker[3];\n  }\n  return icon;\n};\n\nexport default {\n  colorGray,\n  colorSetA,\n  colorSetB,\n  rangeColorMarker,\n};\n","import 'leaflet/dist/leaflet.css';\nimport $L from 'leaflet';\nimport 'leaflet.markercluster';\nimport Color from './color';\n\nconst createMap = (divId, options) => {\n  const map = $L.map(divId, options);\n  $L.control.zoom({\n    position: 'topright',\n  }).addTo(map);\n  return map;\n};\n\nconst createTileLayer = async (map, url, options) => {\n  const tileLayer = await $L.tileLayer(url, options);\n  tileLayer.addTo(map);\n  return tileLayer;\n};\nconst removeLayer = (map, layer) => {\n  map.removeLayer(layer);\n};\n\nconst CustomMarkerIcon = (color) => $L.icon({\n  iconUrl: `https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-${color}.png`,\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41],\n});\n\nconst CustomMarkerDivIcon = (color) => $L.divIcon({\n  className: 'custom-div-icon',\n  html: `<div class='marker-pin sta-${color}'></div>\n    <i class='fa fa-plus-circle awesome'></i>`,\n  iconSize: [30, 42],\n  iconAnchor: [15, 42],\n  popupAnchor: [0, -40],\n});\n\nconst rangeColorMarker = (range) => {\n  // .mask_adult + mask_child\n  const markerColor = Color.rangeColorMarker(range);\n  let icon = new CustomMarkerDivIcon(markerColor);\n  if (range > 100) {\n    icon = new CustomMarkerDivIcon(markerColor);\n  } else if (range > 50) {\n    icon = new CustomMarkerDivIcon(markerColor);\n  } else if (range > 0) {\n    icon = new CustomMarkerDivIcon(markerColor);\n  }\n  return icon;\n};\n\nconst PopupContent = (feature) => {\n  const adult = Color.rangeColorMarker(feature.properties.mask_adult);\n  const child = Color.rangeColorMarker(feature.properties.mask_child);\n  const staAdultClass = `sta-${adult}`;\n  const staChildClass = `sta-${child}`;\n  // let note = `<div class=\"mask-note\">\n  //     <div>備註：</div>\n  //     <div>${feature.properties.note}</div>\n  //   </div>`;\n  // note = feature.properties.note ? note : '';\n  return `<div class=\"popUp\" data-id=\"${feature.properties.id}\">\n      <div class=\"mask-title\">\n        <p class=\"font-weight-bold mb-1\">${feature.properties.name}</p>\n      </div>\n      <div class=\"mask-wrap d-block justify-content-between\">\n        <div class=\"${staAdultClass} rounded-pill mask-adult\">\n          <span>成人</span>\n          <span>\n            ${feature.properties.mask_adult === 0 ? '已售完' : feature.properties.mask_adult}\n          </span>\n        </div>\n        <div class=\"${staChildClass} rounded-pill mask-child\">\n          <span>兒童</span>\n          <span>\n            ${feature.properties.mask_child === 0 ? '已售完' : feature.properties.mask_child}\n          </span>\n        </div>\n      </div>\n      <div class=\"mask-updated\">更新: ${feature.properties.updated ? feature.properties.updated : '無資料'}</div>\n    </div>`;\n};\n\nconst geoJsonLayerMarkerClusterGroup = (map, geoJsonData, fn, filter) => {\n  const markers = $L.markerClusterGroup({\n    disableClusteringAtZoom: 17,\n  });\n  const geoJsonLayer = $L.geoJson(geoJsonData, {\n    onEachFeature(feature, layer) {\n      const popupContent = PopupContent(feature);\n      layer\n        .bindPopup(() => {\n          fn(feature);\n          return popupContent;\n        })\n        .on('popupclose', () => {\n          fn(null);\n        });\n      // .on({\n      //   click: fn,\n      // });\n    },\n    pointToLayer(feature, latlng) {\n      // filter\n      let range = feature.properties.mask_adult + feature.properties.mask_child;\n      if (filter === 1) {\n        range = feature.properties.mask_adult;\n      } else if (filter === 2) {\n        range = feature.properties.mask_child;\n      }\n      const customIcon = rangeColorMarker(range);\n      return $L.marker(latlng, { icon: customIcon });\n    },\n  });\n  markers.addLayer(geoJsonLayer);\n  map.addLayer(markers);\n  // map.fitBounds(markers.getBounds());\n  return markers;\n};\n\nconst fitBounds = (map, points) => {\n  const geoJsonLayer = $L.geoJSON(points);\n  map.fitBounds(geoJsonLayer.getBounds());\n};\n\nconst addMarker = (map, point, color) => {\n  const customIcon = new CustomMarkerIcon(color);\n  $L.marker(point, { icon: customIcon }).addTo(map);\n};\n\nconst addCircle = (map, point, option) => {\n  const circle = $L.circle(point, option).addTo(map);\n  return circle;\n};\n\nconst addGeoJson = (geojsonFeature, map) => $L.geoJSON(geojsonFeature).addTo(map);\n\nexport default {\n  createMap,\n  createTileLayer,\n  removeLayer,\n  geoJsonLayerMarkerClusterGroup,\n  addMarker,\n  addCircle,\n  addGeoJson,\n  fitBounds,\n};\n","import map from './map';\nimport color from './color';\n\nexport default {\n  color,\n  map,\n};\n","/* eslint-disable prefer-promise-reject-errors */\nimport axios from 'axios';\n// import router from '../router';\n\n// Add a response interceptor\naxios.interceptors.response.use((response) => response, (error) => {\n  if (!error.response) {\n    return Promise.reject({\n      response: {\n        data: null,\n      },\n    });\n  }\n  if (Number(error.response.data.code) === 10010\n    || Number(error.response.data.code) === 10020\n    || Number(error.response.data.code) === 10030\n  ) {\n    // localStorage.removeItem('user');\n    // router.push('/pages/login');\n  }\n  return Promise.reject(error);\n});\n\nexport default axios;\n","// axios\nimport axios from './axios';\n\nwindow.axios = axios;\n","/* eslint-disable no-unused-vars */\nimport Vue from 'vue';\nimport App from './App.vue';\n// import './registerServiceWorker';\nimport router from './router';\nimport store from './store';\nimport utils from './utils';\nimport './vendor';\n\nVue.prototype.$utils = utils;\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  store,\n  render: (h) => h(App),\n}).$mount('#app');\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pharmacy.vue?vue&type=style&index=0&id=7109f6d0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pharmacy.vue?vue&type=style&index=0&id=7109f6d0&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=c818ef6c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=c818ef6c&lang=scss&scoped=true&\""],"sourceRoot":""}